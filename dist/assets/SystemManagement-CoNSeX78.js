import{S as e,_ as t,a as n,c as r,d as i,f as a,g as o,h as s,m as c,n as l,o as u,p as d,r as f,s as p,t as m,u as h,x as g,y as _}from"./index-z9Cy3DHQ.js";var ee={class:`system-management-container`},te={class:`tab-content`},ne={class:`tab-header`},v={class:`tab-content`},y={class:`tab-header`},b={class:`tab-content`},x={class:`tab-header`},S={class:`tab-content`},C={class:`tab-content`},w={class:`monitor-item`},T={class:`monitor-value`},E={class:`monitor-item`},D={class:`monitor-value`},re={class:`monitor-item`},ie={class:`monitor-value`},ae={class:`monitor-item`},oe={class:`monitor-value`},se={class:`uptime-item`},O={class:`uptime-value`},k={class:`dialog-footer`},A=m(d({__name:`SystemManagement`,setup(e){let d=_([{id:`1`,username:`admin`,realName:`管理员`,email:`admin@example.com`,phone:`13800138000`,role:`admin`,status:`active`,createTime:`2024-01-01 00:00:00`,lastLoginTime:`2024-04-10 14:30:00`},{id:`2`,username:`user1`,realName:`用户1`,email:`user1@example.com`,phone:`13800138001`,role:`user`,status:`active`,createTime:`2024-01-10 10:00:00`,lastLoginTime:`2024-04-09 09:15:00`},{id:`3`,username:`user2`,realName:`用户2`,email:`user2@example.com`,phone:`13800138002`,role:`user`,status:`inactive`,createTime:`2024-01-15 15:30:00`,lastLoginTime:`2024-03-20 16:45:00`}]),m=_([{id:`1`,name:`管理员`,description:`系统管理员，拥有所有权限`,status:`active`},{id:`2`,name:`普通用户`,description:`普通用户，拥有基础权限`,status:`active`},{id:`3`,name:`访客`,description:`访客用户，拥有只读权限`,status:`active`}]),A=_([{id:`1`,userId:`1`,username:`admin`,operation:`登录系统`,ip:`127.0.0.1`,userAgent:`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36`,createTime:`2024-04-10 14:30:00`},{id:`2`,userId:`1`,username:`admin`,operation:`创建用户 user3`,ip:`127.0.0.1`,userAgent:`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36`,createTime:`2024-04-10 14:35:00`},{id:`3`,userId:`2`,username:`user1`,operation:`查看知识库`,ip:`192.168.1.100`,userAgent:`Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.3.1 Safari/605.1.15`,createTime:`2024-04-10 15:00:00`},{id:`4`,userId:`3`,username:`user2`,operation:`修改个人信息`,ip:`192.168.1.101`,userAgent:`Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:124.0) Gecko/20100101 Firefox/124.0`,createTime:`2024-04-10 15:20:00`}]),j=_({systemName:`水预算大模型平台`,systemVersion:`1.0.0`,systemDescription:`专注于水预算分析的智能平台`,contactEmail:`support@water-budget.com`,contactPhone:`400-123-4567`,showHome:!0,allowRegister:!0,allowGuestAccess:!1}),M=_({cpuUsage:35,memoryUsage:65,diskUsage:45,activeConnections:12,uptime:`7天 12小时 30分钟`}),N=_(`userManagement`),P=_(``),F=_(!1),I=_({username:``,realName:``,email:``,phone:``,password:``,role:`user`}),L=_(``),R=_(null),z=_(``),B=u(()=>P.value?d.value.filter(e=>e.username.includes(P.value)||e.realName.includes(P.value)||e.email.includes(P.value)||e.phone.includes(P.value)):d.value),V=u(()=>L.value?m.value.filter(e=>e.name.includes(L.value)||e.description.includes(L.value)):m.value),H=u(()=>{let e=A.value;if(z.value&&(e=e.filter(e=>e.userId===z.value)),R.value){let[t,n]=R.value;e=e.filter(e=>{let r=new Date(e.createTime);return r>=t&&r<=n})}return e}),ce=()=>{F.value=!0,I.value={username:``,realName:``,email:``,phone:``,password:``,role:`user`}},U=()=>{if(!I.value.username.trim()){f.warning(`请输入用户名`);return}if(!I.value.realName.trim()){f.warning(`请输入真实姓名`);return}if(!I.value.email.trim()){f.warning(`请输入邮箱`);return}if(!I.value.phone.trim()){f.warning(`请输入电话`);return}if(!I.value.password.trim()){f.warning(`请输入密码`);return}let e={id:(d.value.length+1).toString(),username:I.value.username.trim(),realName:I.value.realName.trim(),email:I.value.email.trim(),phone:I.value.phone.trim(),role:I.value.role,status:`active`,createTime:new Date().toLocaleString(),lastLoginTime:`-`};d.value.push(e),F.value=!1,f.success(`用户创建成功`)},W=e=>{console.log(`查看用户:`,e)},G=e=>{console.log(`编辑用户:`,e)},le=e=>{let t=e.status===`active`?`禁用`:`启用`;l.confirm(`确定要${t}用户"${e.username}"吗？`,`提示`,{confirmButtonText:`确定`,cancelButtonText:`取消`,type:t===`禁用`?`warning`:`success`}).then(()=>{let n=d.value.findIndex(t=>t.id===e.id);n!==-1&&(d.value[n].status=e.status===`active`?`inactive`:`active`,f.success(`用户已${t}成功`))}).catch(()=>{})},ue=e=>{l.confirm(`确定要删除用户"${e.username}"吗？此操作不可恢复！`,`警告`,{confirmButtonText:`确定删除`,cancelButtonText:`取消`,type:`error`}).then(()=>{let t=d.value.findIndex(t=>t.id===e.id);t!==-1&&(d.value.splice(t,1),f.success(`用户删除成功`))}).catch(()=>{})},de=()=>{console.log(`创建角色`)},fe=e=>{console.log(`编辑角色:`,e)},pe=e=>{console.log(`权限配置:`,e)},me=e=>{l.confirm(`确定要删除角色"${e.name}"吗？此操作不可恢复！`,`警告`,{confirmButtonText:`确定删除`,cancelButtonText:`取消`,type:`error`}).then(()=>{let t=m.value.findIndex(t=>t.id===e.id);t!==-1&&(m.value.splice(t,1),f.success(`角色删除成功`))}).catch(()=>{})},he=()=>{console.log(`保存系统配置:`,j.value),f.success(`系统配置保存成功`)},K=()=>{j.value={systemName:`水预算大模型平台`,systemVersion:`1.0.0`,systemDescription:`专注于水预算分析的智能平台`,contactEmail:`support@water-budget.com`,contactPhone:`400-123-4567`,showHome:!0,allowRegister:!0,allowGuestAccess:!1},f.info(`配置已重置`)};return(e,l)=>{let u=o(`el-button`),f=o(`el-table-column`),m=o(`el-tag`),_=o(`el-table`),A=o(`el-card`),P=o(`el-tab-pane`),L=o(`el-date-picker`),q=o(`el-option`),J=o(`el-select`),Y=o(`el-input`),X=o(`el-form-item`),Z=o(`el-switch`),Q=o(`el-form`),$=o(`el-col`),ge=o(`el-row`),_e=o(`el-tabs`),ve=o(`el-dialog`);return c(),h(`div`,ee,[l[42]||=p(`div`,{class:`system-management-header`},[p(`h2`,null,`系统管理`)],-1),a(_e,{modelValue:N.value,"onUpdate:modelValue":l[10]||=e=>N.value=e,type:`card`,class:`system-tabs`},{default:t(()=>[a(P,{label:`用户管理`,name:`userManagement`},{default:t(()=>[p(`div`,te,[p(`div`,ne,[l[20]||=p(`span`,null,`用户列表`,-1),a(u,{type:`primary`,onClick:ce},{default:t(()=>[...l[19]||=[p(`i`,{class:`fas fa-plus`},null,-1),i(` 创建用户 `,-1)]]),_:1})]),a(A,{class:`user-list-card`},{default:t(()=>[a(_,{data:B.value,style:{width:`100%`}},{default:t(()=>[a(f,{prop:`id`,label:`ID`,width:`80`}),a(f,{prop:`username`,label:`用户名`,"min-width":`150`}),a(f,{prop:`realName`,label:`真实姓名`,"min-width":`150`}),a(f,{prop:`email`,label:`邮箱`,"min-width":`200`}),a(f,{prop:`phone`,label:`电话`,"min-width":`150`}),a(f,{prop:`role`,label:`角色`,width:`120`},{default:t(e=>[a(m,{type:e.row.role===`admin`?`primary`:e.row.role===`user`?`success`:`warning`},{default:t(()=>[i(g(e.row.role===`admin`?`管理员`:e.row.role===`user`?`普通用户`:`访客`),1)]),_:2},1032,[`type`])]),_:1}),a(f,{prop:`status`,label:`状态`,width:`100`},{default:t(e=>[a(m,{type:e.row.status===`active`?`success`:`danger`},{default:t(()=>[i(g(e.row.status===`active`?`启用`:`禁用`),1)]),_:2},1032,[`type`])]),_:1}),a(f,{prop:`createTime`,label:`创建时间`,width:`180`}),a(f,{prop:`lastLoginTime`,label:`最后登录时间`,width:`180`}),a(f,{label:`操作`,width:`250`,fixed:`right`},{default:t(e=>[a(u,{size:`small`,onClick:t=>W(e.row)},{default:t(()=>[...l[21]||=[p(`i`,{class:`fas fa-eye`},null,-1),i(` 查看 `,-1)]]),_:1},8,[`onClick`]),a(u,{size:`small`,onClick:t=>G(e.row)},{default:t(()=>[...l[22]||=[p(`i`,{class:`fas fa-edit`},null,-1),i(` 编辑 `,-1)]]),_:1},8,[`onClick`]),a(u,{size:`small`,type:e.row.status===`active`?`warning`:`success`,onClick:t=>le(e.row)},{default:t(()=>[l[23]||=p(`i`,{class:`fas fa-toggle-on`},null,-1),i(` `+g(e.row.status===`active`?`禁用`:`启用`),1)]),_:2},1032,[`type`,`onClick`]),a(u,{size:`small`,type:`danger`,onClick:t=>ue(e.row)},{default:t(()=>[...l[24]||=[p(`i`,{class:`fas fa-trash`},null,-1),i(` 删除 `,-1)]]),_:1},8,[`onClick`])]),_:1})]),_:1},8,[`data`])]),_:1})])]),_:1}),a(P,{label:`角色权限`,name:`roleManagement`},{default:t(()=>[p(`div`,v,[p(`div`,y,[l[26]||=p(`span`,null,`角色列表`,-1),a(u,{type:`primary`,onClick:de},{default:t(()=>[...l[25]||=[p(`i`,{class:`fas fa-plus`},null,-1),i(` 创建角色 `,-1)]]),_:1})]),a(A,{class:`role-list-card`},{default:t(()=>[a(_,{data:V.value,style:{width:`100%`}},{default:t(()=>[a(f,{prop:`id`,label:`ID`,width:`80`}),a(f,{prop:`name`,label:`角色名称`,"min-width":`150`}),a(f,{prop:`description`,label:`角色描述`,"min-width":`200`}),a(f,{prop:`status`,label:`状态`,width:`100`},{default:t(e=>[a(m,{type:e.row.status===`active`?`success`:`danger`},{default:t(()=>[i(g(e.row.status===`active`?`启用`:`禁用`),1)]),_:2},1032,[`type`])]),_:1}),a(f,{label:`操作`,width:`200`,fixed:`right`},{default:t(e=>[a(u,{size:`small`,onClick:t=>fe(e.row)},{default:t(()=>[...l[27]||=[p(`i`,{class:`fas fa-edit`},null,-1),i(` 编辑 `,-1)]]),_:1},8,[`onClick`]),a(u,{size:`small`,onClick:t=>pe(e.row)},{default:t(()=>[...l[28]||=[p(`i`,{class:`fas fa-key`},null,-1),i(` 权限配置 `,-1)]]),_:1},8,[`onClick`]),a(u,{size:`small`,type:`danger`,onClick:t=>me(e.row)},{default:t(()=>[...l[29]||=[p(`i`,{class:`fas fa-trash`},null,-1),i(` 删除 `,-1)]]),_:1},8,[`onClick`])]),_:1})]),_:1},8,[`data`])]),_:1})])]),_:1}),a(P,{label:`操作日志`,name:`operationLog`},{default:t(()=>[p(`div`,b,[p(`div`,x,[l[30]||=p(`span`,null,`操作日志`,-1),a(L,{modelValue:R.value,"onUpdate:modelValue":l[0]||=e=>R.value=e,type:`daterange`,"range-separator":`至`,"start-placeholder":`开始日期`,"end-placeholder":`结束日期`,style:{width:`300px`,"margin-right":`10px`}},null,8,[`modelValue`]),a(J,{modelValue:z.value,"onUpdate:modelValue":l[1]||=e=>z.value=e,placeholder:`选择用户`},{default:t(()=>[a(q,{label:`全部用户`,value:``}),(c(!0),h(n,null,s(d.value,e=>(c(),r(q,{key:e.id,label:e.username,value:e.id},null,8,[`label`,`value`]))),128))]),_:1},8,[`modelValue`])]),a(A,{class:`log-list-card`},{default:t(()=>[a(_,{data:H.value,style:{width:`100%`}},{default:t(()=>[a(f,{prop:`id`,label:`ID`,width:`80`}),a(f,{prop:`userId`,label:`用户ID`,width:`100`}),a(f,{prop:`username`,label:`用户名`,"min-width":`150`}),a(f,{prop:`operation`,label:`操作内容`,"min-width":`200`}),a(f,{prop:`ip`,label:`IP地址`,"min-width":`150`}),a(f,{prop:`userAgent`,label:`用户代理`,"min-width":`200`}),a(f,{prop:`createTime`,label:`操作时间`,width:`180`})]),_:1},8,[`data`])]),_:1})])]),_:1}),a(P,{label:`系统配置`,name:`systemConfig`},{default:t(()=>[p(`div`,S,[l[33]||=p(`div`,{class:`tab-header`},[p(`span`,null,`系统配置`)],-1),a(A,{class:`config-card`},{default:t(()=>[a(Q,{model:j.value,"label-width":`120px`},{default:t(()=>[a(X,{label:`系统名称`},{default:t(()=>[a(Y,{modelValue:j.value.systemName,"onUpdate:modelValue":l[2]||=e=>j.value.systemName=e,placeholder:`请输入系统名称`},null,8,[`modelValue`])]),_:1}),a(X,{label:`系统版本`},{default:t(()=>[a(Y,{modelValue:j.value.systemVersion,"onUpdate:modelValue":l[3]||=e=>j.value.systemVersion=e,placeholder:`请输入系统版本`},null,8,[`modelValue`])]),_:1}),a(X,{label:`系统描述`},{default:t(()=>[a(Y,{modelValue:j.value.systemDescription,"onUpdate:modelValue":l[4]||=e=>j.value.systemDescription=e,type:`textarea`,rows:`3`,placeholder:`请输入系统描述`},null,8,[`modelValue`])]),_:1}),a(X,{label:`联系邮箱`},{default:t(()=>[a(Y,{modelValue:j.value.contactEmail,"onUpdate:modelValue":l[5]||=e=>j.value.contactEmail=e,placeholder:`请输入联系邮箱`},null,8,[`modelValue`])]),_:1}),a(X,{label:`联系电话`},{default:t(()=>[a(Y,{modelValue:j.value.contactPhone,"onUpdate:modelValue":l[6]||=e=>j.value.contactPhone=e,placeholder:`请输入联系电话`},null,8,[`modelValue`])]),_:1}),a(X,{label:`首页展示`},{default:t(()=>[a(Z,{modelValue:j.value.showHome,"onUpdate:modelValue":l[7]||=e=>j.value.showHome=e},null,8,[`modelValue`])]),_:1}),a(X,{label:`允许注册`},{default:t(()=>[a(Z,{modelValue:j.value.allowRegister,"onUpdate:modelValue":l[8]||=e=>j.value.allowRegister=e},null,8,[`modelValue`])]),_:1}),a(X,{label:`允许访客访问`},{default:t(()=>[a(Z,{modelValue:j.value.allowGuestAccess,"onUpdate:modelValue":l[9]||=e=>j.value.allowGuestAccess=e},null,8,[`modelValue`])]),_:1}),a(X,null,{default:t(()=>[a(u,{type:`primary`,onClick:he},{default:t(()=>[...l[31]||=[i(`保存配置`,-1)]]),_:1}),a(u,{onClick:K},{default:t(()=>[...l[32]||=[i(`重置`,-1)]]),_:1})]),_:1})]),_:1},8,[`model`])]),_:1})])]),_:1}),a(P,{label:`系统监控`,name:`systemMonitor`},{default:t(()=>[p(`div`,C,[l[39]||=p(`div`,{class:`tab-header`},[p(`span`,null,`系统监控`)],-1),a(ge,{gutter:20},{default:t(()=>[a($,{span:6},{default:t(()=>[a(A,{class:`monitor-card`},{default:t(()=>[p(`div`,w,[p(`div`,T,g(M.value.cpuUsage)+`%`,1),l[34]||=p(`div`,{class:`monitor-label`},`CPU使用率`,-1)])]),_:1})]),_:1}),a($,{span:6},{default:t(()=>[a(A,{class:`monitor-card`},{default:t(()=>[p(`div`,E,[p(`div`,D,g(M.value.memoryUsage)+`%`,1),l[35]||=p(`div`,{class:`monitor-label`},`内存使用率`,-1)])]),_:1})]),_:1}),a($,{span:6},{default:t(()=>[a(A,{class:`monitor-card`},{default:t(()=>[p(`div`,re,[p(`div`,ie,g(M.value.diskUsage)+`%`,1),l[36]||=p(`div`,{class:`monitor-label`},`磁盘使用率`,-1)])]),_:1})]),_:1}),a($,{span:6},{default:t(()=>[a(A,{class:`monitor-card`},{default:t(()=>[p(`div`,ae,[p(`div`,oe,g(M.value.activeConnections),1),l[37]||=p(`div`,{class:`monitor-label`},`活跃连接数`,-1)])]),_:1})]),_:1})]),_:1}),a(A,{class:`uptime-card`},{default:t(()=>[p(`div`,se,[l[38]||=p(`div`,{class:`uptime-label`},`系统运行时间`,-1),p(`div`,O,g(M.value.uptime),1)])]),_:1})])]),_:1})]),_:1},8,[`modelValue`]),a(ve,{modelValue:F.value,"onUpdate:modelValue":l[18]||=e=>F.value=e,title:`创建用户`,width:`600px`},{footer:t(()=>[p(`span`,k,[a(u,{onClick:l[17]||=e=>F.value=!1},{default:t(()=>[...l[40]||=[i(`取消`,-1)]]),_:1}),a(u,{type:`primary`,onClick:U},{default:t(()=>[...l[41]||=[i(`确定`,-1)]]),_:1})])]),default:t(()=>[a(Q,{model:I.value,"label-width":`120px`},{default:t(()=>[a(X,{label:`用户名`,required:``},{default:t(()=>[a(Y,{modelValue:I.value.username,"onUpdate:modelValue":l[11]||=e=>I.value.username=e,placeholder:`请输入用户名`},null,8,[`modelValue`])]),_:1}),a(X,{label:`真实姓名`,required:``},{default:t(()=>[a(Y,{modelValue:I.value.realName,"onUpdate:modelValue":l[12]||=e=>I.value.realName=e,placeholder:`请输入真实姓名`},null,8,[`modelValue`])]),_:1}),a(X,{label:`邮箱`,required:``},{default:t(()=>[a(Y,{modelValue:I.value.email,"onUpdate:modelValue":l[13]||=e=>I.value.email=e,placeholder:`请输入邮箱`},null,8,[`modelValue`])]),_:1}),a(X,{label:`电话`,required:``},{default:t(()=>[a(Y,{modelValue:I.value.phone,"onUpdate:modelValue":l[14]||=e=>I.value.phone=e,placeholder:`请输入电话`},null,8,[`modelValue`])]),_:1}),a(X,{label:`密码`,required:``},{default:t(()=>[a(Y,{modelValue:I.value.password,"onUpdate:modelValue":l[15]||=e=>I.value.password=e,type:`password`,placeholder:`请输入密码`},null,8,[`modelValue`])]),_:1}),a(X,{label:`角色`},{default:t(()=>[a(J,{modelValue:I.value.role,"onUpdate:modelValue":l[16]||=e=>I.value.role=e,placeholder:`请选择角色`},{default:t(()=>[a(q,{label:`管理员`,value:`admin`}),a(q,{label:`普通用户`,value:`user`}),a(q,{label:`访客`,value:`guest`})]),_:1},8,[`modelValue`])]),_:1})]),_:1},8,[`model`])]),_:1},8,[`modelValue`])])}}}),[[`__scopeId`,`data-v-9b2097d9`]]);export{A as default};